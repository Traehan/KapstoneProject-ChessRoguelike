========================================
CURRENCY & SHOP SYSTEM
IMPLEMENTATION CHECKLIST
========================================

Use this checklist to verify everything is set up correctly.

========================================
SCRIPTS CREATED âœ“
========================================

Currency System:
âœ“ CurrencyManager.cs
âœ“ CurrencyDisplay.cs
âœ“ VictoryRewardHandler.cs

Shop System:
âœ“ ShopManager.cs
âœ“ ShopSlot.cs
âœ“ UpgradeSelectionPopup.cs

Integration:
âœ“ GameSession.cs (updated)

Editor Tools:
âœ“ CurrencyShopSetupTools.cs

Documentation:
âœ“ QUICKSTART_SHOP.txt
âœ“ ShopScene_SetupGuide.txt
âœ“ UpgradeDefinitions_README.txt
âœ“ CURRENCY_AND_SHOP_SUMMARY.txt
âœ“ SystemArchitecture_Diagram.txt
âœ“ IMPLEMENTATION_CHECKLIST.txt (this file)

========================================
SETUP TASKS
========================================

CURRENCY MANAGER SETUP:
â–¡ Tools > Shop System > Setup Currency Manager
â–¡ CurrencyManager GameObject exists
â–¡ Component configured:
  â–¡ Starting Coins: 0
  â–¡ Encounter Victory Reward: 75

CURRENCY DISPLAYS:
â–¡ MapScene has CurrencyDisplay
  â–¡ Tools > Shop System > Add Currency Display
  â–¡ TextMeshProUGUI shows "Coins: 0"
  â–¡ Positioned at top-left
  
â–¡ SampleScene has CurrencyDisplay
  â–¡ Tools > Shop System > Add Currency Display
  â–¡ TextMeshProUGUI shows "Coins: 0"
  â–¡ Positioned at top-left

â–¡ Shop_Scene has CurrencyDisplay (after creating scene)
  â–¡ Tools > Shop System > Add Currency Display
  â–¡ TextMeshProUGUI shows "Coins: 0"
  â–¡ Positioned at top-left

VICTORY REWARDS:
â–¡ SampleScene has VictoryRewardHandler
  â–¡ Tools > Shop System > Add Victory Reward Handler
  â–¡ Component attached to a persistent GameObject
  â–¡ Will award coins on battle victory

UPGRADE CREATION:
â–¡ Created at least 3 upgrades
  â–¡ Tools > Shop System > Create Upgrade Template
  â–¡ IronPlating (+2 HP)
  â–¡ SharpenedBlade (+1 ATK)
  â–¡ CombatTraining (+1 HP, +1 ATK)
  â–¡ (Optional) More upgrades created

SHOP SCENE:
â–¡ Shop_Scene created
  â–¡ File > New Scene
  â–¡ Saved as "Shop_Scene" in /Assets/Scenes/
  
â–¡ Added to Build Settings
  â–¡ File > Build Settings
  â–¡ Shop_Scene in scenes list

â–¡ Basic hierarchy created
  â–¡ Canvas exists
  â–¡ EventSystem exists
  â–¡ ShopManager GameObject exists

â–¡ Shop slots created (6 total)
  â–¡ PieceSlot1, PieceSlot2, PieceSlot3
  â–¡ UpgradeSlot1, UpgradeSlot2, UpgradeSlot3
  â–¡ Each has ShopSlot component

â–¡ Buttons created
  â–¡ RefreshButton (UI > Button)
  â–¡ LeaveButton (UI > Button)

â–¡ ShopManager configured
  â–¡ Piece Slots array (size 3)
    â–¡ All 3 piece slots assigned
  â–¡ Upgrade Slots array (size 3)
    â–¡ All 3 upgrade slots assigned
  â–¡ Available Pieces list
    â–¡ Bishop_Def added
    â–¡ Rook_Def added
    â–¡ Knight_Def added
    â–¡ (Optional) More pieces added
  â–¡ Available Upgrades list
    â–¡ All created upgrades added
  â–¡ Pricing configured
    â–¡ Piece Price Min: 50
    â–¡ Piece Price Max: 150
    â–¡ Upgrade Price Min: 30
    â–¡ Upgrade Price Max: 100
    â–¡ Refresh Cost: 25
  â–¡ UI References
    â–¡ Refresh Button assigned
    â–¡ Leave Button assigned
    â–¡ Prep Panel assigned (optional)
  â–¡ Scene Navigation
    â–¡ Map Scene Name: "MapScene"

â–¡ UpgradeSelectionPopup setup
  â–¡ Component on shop scene GameObject
  â–¡ Popup Panel created
  â–¡ Title text assigned
  â–¡ Piece Button Container assigned
  â–¡ Piece Button Prefab assigned
  â–¡ Cancel Button assigned
  â–¡ Popup initially inactive

â–¡ CurrencyDisplay added
  â–¡ Shows coins at top-left

========================================
INTEGRATION VERIFICATION
========================================

GAMESESSION:
â–¡ GameSession.StartNewRun() includes:
  â–¡ MapState.ClearState()
  â–¡ CurrencyManager.ClearSavedCurrency()
  â–¡ CurrencyManager.Instance.ResetCurrency()

MAPGENERATOR:
â–¡ MapGenerator.cs has:
  â–¡ shopSceneName = "Shop_Scene"
  â–¡ Shop nodes navigate correctly

BUILD SETTINGS:
â–¡ All scenes in Build Settings:
  â–¡ StartScreen (if exists)
  â–¡ ClanSelectScene
  â–¡ MapScene
  â–¡ SampleScene
  â–¡ Shop_Scene
  â–¡ (Any other scenes)

========================================
TESTING CHECKLIST
========================================

BASIC CURRENCY:
â–¡ Start game
  â–¡ Currency shows "Coins: 0"
â–¡ Enter battle (SampleScene)
  â–¡ Currency displays in battle scene
â–¡ Win battle
  â–¡ Console shows coin reward message
  â–¡ Currency updates to "Coins: 75"
â–¡ Return to map
  â–¡ Currency persists "Coins: 75"
â–¡ Exit play mode and re-enter
  â–¡ Currency loads from save

SHOP NAVIGATION:
â–¡ From MapScene, manually navigate to shop:
  â–¡ Create test: SceneController.instance.GoTo("Shop_Scene")
  â–¡ Shop scene loads successfully
  â–¡ Currency displays correctly
  â–¡ No errors in Console

SHOP DISPLAY:
â–¡ Shop scene shows correctly:
  â–¡ 3 piece slots visible
  â–¡ 3 upgrade slots visible
  â–¡ Refresh button visible
  â–¡ Leave button visible
  â–¡ Currency display visible
â–¡ Items populate:
  â–¡ Piece slots show random pieces
  â–¡ Upgrade slots show random upgrades
  â–¡ Prices displayed
â–¡ Icons and text:
  â–¡ Piece icons appear
  â–¡ Upgrade icons appear
  â–¡ Names displayed
  â–¡ Descriptions displayed

PIECE PURCHASE:
â–¡ Have enough coins (75+)
â–¡ Click Buy on a piece
  â–¡ Coins deducted
  â–¡ Console shows purchase message
  â–¡ Piece added to army
  â–¡ PrepPanel updates (if configured)
â–¡ Not enough coins
  â–¡ Buy button disabled
  â–¡ Can't purchase

UPGRADE PURCHASE:
â–¡ Have enough coins (30+)
â–¡ Have pieces in army
â–¡ Click Buy on upgrade
  â–¡ Popup appears
  â–¡ Shows army pieces (no Queen)
  â–¡ Can select a piece
â–¡ Select piece
  â–¡ Coins deducted
  â–¡ Console shows upgrade message
  â–¡ Piece stats updated
  â–¡ PrepPanel updates (if configured)
â–¡ Cancel popup
  â–¡ No coins spent
  â–¡ Popup closes

REFRESH FUNCTIONALITY:
â–¡ Have 25+ coins
â–¡ Click Refresh button
  â–¡ Coins deducted (25)
  â–¡ New upgrades shown
  â–¡ Different from previous upgrades
  â–¡ Button becomes disabled
  â–¡ Text changes to "USED"
â–¡ Try clicking again
  â–¡ Nothing happens
  â–¡ Button stays disabled

LEAVE SHOP:
â–¡ Click Leave button
  â–¡ Returns to MapScene
  â–¡ Currency persists
  â–¡ Army changes persist
â–¡ Re-enter shop
  â–¡ New random inventory
  â–¡ Refresh button reset
  â–¡ Can refresh again

BATTLE WITH PURCHASES:
â–¡ Buy piece in shop
â–¡ Return to map
â–¡ Enter battle
â–¡ Open PrepPanel
  â–¡ Purchased piece appears
  â–¡ Can place purchased piece
  â–¡ Piece works in battle
â–¡ Buy upgrade in shop
â–¡ Apply to piece
â–¡ Enter battle
  â–¡ Piece has upgraded stats
  â–¡ Upgrade persists in battle

RUN RESET:
â–¡ Accumulate coins
â–¡ Purchase pieces/upgrades
â–¡ Start new run
  â–¡ Coins reset to 0
  â–¡ Army cleared
  â–¡ Map cleared
  â–¡ Only Queen and starting troop remain

========================================
FINAL VERIFICATION
========================================

PERSISTENCE:
â–¡ Currency saves across scenes
â–¡ Currency loads on game start
â–¡ Army saves across scenes
â–¡ Upgrades persist on pieces
â–¡ Map state independent of currency

EVENTS:
â–¡ OnCoinsChanged fires correctly
â–¡ Currency displays update
â–¡ Shop buttons update
â–¡ Victory rewards work

EDGE CASES:
â–¡ Can't buy with insufficient coins
â–¡ Can't upgrade Queen
â–¡ Refresh only works once
â–¡ Empty slots handled gracefully
â–¡ No pieces in army handled

PERFORMANCE:
â–¡ No errors in Console
â–¡ No memory leaks
â–¡ Smooth scene transitions
â–¡ Instant currency updates

========================================
OPTIONAL POLISH
========================================

VISUAL:
â–¡ Custom sprites for coins
â–¡ Icons for all pieces
â–¡ Icons for all upgrades
â–¡ Background images for slots
â–¡ Shop theme/aesthetic

UI/UX:
â–¡ Animations on purchase
â–¡ Sound effects for buy/sell
â–¡ Particle effects for coins
â–¡ Tooltips on hover
â–¡ Purchase confirmation
â–¡ Better shop layout
â–¡ PrepPanel in shop

GAMEPLAY:
â–¡ More upgrade varieties
â–¡ More piece types
â–¡ Special shop deals
â–¡ Limited stock items
â–¡ Price balancing
â–¡ Difficulty scaling rewards

========================================
KNOWN ISSUES / LIMITATIONS
========================================

DOCUMENTED LIMITATIONS:
â€¢ Upgrades modify PieceDefinition directly
  â†’ Affects all instances until run reset
  â†’ Consider runtime copies if needed

â€¢ Shop inventory randomizes each visit
  â†’ Could add persistent inventory
  â†’ Could track purchase history

â€¢ Refresh shows new upgrades only
  â†’ Tracks shown in session only
  â†’ Resets on shop reload

â€¢ No piece quantity field
  â†’ Each purchase adds one
  â†’ Could add bulk purchase

POTENTIAL IMPROVEMENTS:
â€¢ Runtime PieceDefinition instances
â€¢ Persistent shop state
â€¢ Purchase history tracking
â€¢ Undo last purchase
â€¢ Sell pieces back
â€¢ Price negotiation
â€¢ Shop upgrades/tiers

========================================
SUCCESS CRITERIA
========================================

âœ“ Currency system functional
âœ“ Coins awarded on victory
âœ“ Currency persists across scenes
âœ“ Currency resets on new run
âœ“ Shop scene loads from map
âœ“ Shop displays items correctly
âœ“ Can purchase pieces
âœ“ Can purchase upgrades
âœ“ Upgrades apply to pieces
âœ“ Purchases persist in army
âœ“ Refresh button works
âœ“ Leave button works
âœ“ No critical errors
âœ“ Full game loop functional

========================================
COMPLETION
========================================

When all checkboxes above are completed,
your currency and shop system is fully
operational and ready for playtesting!

Congratulations! ðŸŽ‰

========================================
